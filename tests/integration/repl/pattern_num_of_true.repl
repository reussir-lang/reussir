// RUN: %reussir-repl -i %s -lerror -Oaggressive | %FileCheck %s

// Test: nested pattern matching on bool with multiple arguments

:{
enum [value] Node {
    Tip(bool),
    Bin(bool, bool)
}
}:
// CHECK: Definition added.

:{
fn num_of_true(n: Node) -> i32 {
    match n {
        Node::Tip(true) => 1,
        Node::Tip(false) => 0,
        Node::Bin(true, true) => 2,
        Node::Bin(true, false) => 1,
        Node::Bin(false, true) => 1,
        Node::Bin(false, false) => 0
    }
}
}:
// CHECK: Definition added.

num_of_true(Node::Tip{true})
// CHECK: 1 : i32

num_of_true(Node::Tip{false})
// CHECK: 0 : i32

num_of_true(Node::Bin{true, true})
// CHECK: 2 : i32

num_of_true(Node::Bin{true, false})
// CHECK: 1 : i32

num_of_true(Node::Bin{false, true})
// CHECK: 1 : i32

num_of_true(Node::Bin{false, false})
// CHECK: 0 : i32

